<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Login/Register</title>
  <link rel="stylesheet" href="css/studentlogin.css">
</head>

<body>
  <nav>
    <h1 class="title1">LOCATE YOUR PROFESSOR</h1>
    <div class="menu-bar">

      <ul>
        <li><a href="homepage.html">HOME</a></li>
        <li><a href="studentaboutus.html">ABOUT US</a></li>
        <li><a href="facultyregister.html">FACULTY SIGNUP</a></li>
        
        <li class="dropdown">
          <a href="#" class="contact-link">GET IN TOUCHE</a>
          <div class="dropdown-content">
            <div class="dropdown-content">
              <a href="mailto:amrithshet@icloud.com">Email: amrithshet@icloud.com</a>
              <p class="phone">Phone: +91 6363531509</p>
              <a href="https://maps.app.goo.gl/hfHu8WZr4VwQta9r6">Address: Mangaluru, Karnataka
                575002</a>
            </div>
        </li>
        
      </ul>
    </div>
</nav>
<div class="xyz">
    <div class="image">
  

  <img src="/front-end/images/logo4.png">
 
</div>
<div class="container">
  <div class="wrapper">
    
    <div>
      <h2 align="center" style="color: white;">FACULTY LOGIN</h2>
      <form id="loginForm" onsubmit="handleSubmit(event)">

        <label for="registerFID" class="cont" style="color: white;">Faculty ID:</label>
        <input type="text" id="registerFID" name="fid" required class="cont"><br>
        <label for="registerUsername" class="cont" style="color: white;">Username:</label>
        <input type="text" id="registerUsername" name="username" required  class="cont"><br>
        <label for="registerPassword"  class="cont" style="color: white;">Password:</label>
        <input type="password" id="registerPassword" name="password" required  class="cont"><br>
        <button type="submit"  class="cont1">LOGIN</button>

      </form>
    </div>

  </div>
</div>
</div></body>
<script>
  function handleSubmit(event) {
    event.preventDefault(); // Prevent the default form submission
    
    // Get form data
    const formData = new FormData(event.target);
    const facultyId = formData.get('fid');
    const username = formData.get('username');
    const password = formData.get('password');
    
    // Send form data to the server
    fetch('http://localhost:5003/fsignin', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ facultyId, username, password })
    })
    .then(response => {
      if (response.ok) {
        // Optionally, display a success message or redirect to another page
        console.log('Login successful');
        console.log('Username:', username);
        sessionStorage.setItem('username',username);
        console.log('Username:', username);
        window.location.href = `facultyhomepage.html?facultyId=${facultyId}`;
      } else {
        // Optionally, display an error message to the user
        console.error('Login failed');
      }
    })
    .catch(error => {
      console.error('Error submitting form:', error);
      // Optionally, display an error message to the user
    });
  }
</script>
</html>

